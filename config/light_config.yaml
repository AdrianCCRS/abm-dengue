# -*- coding: utf-8 -*-
# Configuración LIGHT para simulación ABM-Dengue
# 
# Esta configuración está optimizada para rendimiento manteniendo
# la dinámica epidemiológica realista mediante escalado proporcional.
#
# FILOSOFÍA DE DISEÑO:
# - Escala reducida (~10× menos agentes que default)
# - Parámetros biológicos realistas
# - Balance epidemiológico preservado
# - Tiempo de ejecución: 365 días en ~30-45 minutos
#
# Autor: Yeison Adrián Cáceres Torres, William Urrutia Torres, Jhon Anderson Vargas Gómez
# Universidad Industrial de Santander - Simulación Digital F1

# ============================================================================
# POBLACIÓN INICIAL (Escala reducida 10×)
# ============================================================================
initial_population:
  num_humanos: 300              # Reducido de 3,000 (población representativa)
  num_mosquitos: 150            # Reducido de 1,500 (ratio 1:2 humano:mosquito)
  num_huevos: 300               # Reducido de 3,000 (mismo ratio que mosquitos)

# ============================================================================
# GRID Y ESPACIALIDAD (Ajustado para mantener densidad poblacional)
# ============================================================================
grid:
  width: 48                     # Ajustado para mantener densidad (300 humanos / 0.133 = 2,256 celdas → 48×48)
  height: 48                    # Densidad: 0.130 humanos/celda (igual que default: 0.133)
  
  # Sitios de cría (manteniendo ratio 1 sitio por 200 celdas)
  num_sitios_cria: 12           # 2,304 celdas / 200 = 11.5 → 12 sitios
  
  # Parques (manteniendo ratio proporcional)
  num_parques: 2                # Reducido proporcionalmente (10 → 2 para escala 10×)

# ============================================================================
# PARÁMETROS EPIDEMIOLÓGICOS (Sin cambios - realistas)
# ============================================================================
human_disease:
  incubation_period: 5.0        # Ne = 5 días (período de incubación)
  infectious_period: 6.0        # Ni = 6 días (período infeccioso)

mosquito_disease:
  mortality_rate: 0.10          # 10% diario - Vida media ~10 días (control poblacional)
  sensory_range: 3              # Rango de detección de humanos (celdas)

transmission:
  bite_probability: 0.5         # Pb = 0.5 (probabilidad de picar)
  transmission_probability: 0.6 # α = 0.6 (probabilidad de transmisión por picadura)

# ============================================================================
# MOVILIDAD HUMANA (Sin cambios - patrones realistas)
# ============================================================================
human_mobility:
  # Distribución de tipos (porcentajes)
  student_ratio: 0.20           # 20% estudiantes
  worker_ratio: 0.60            # 60% trabajadores
  mobile_ratio: 0.10            # 10% móviles continuos
  stationary_ratio: 0.10        # 10% estacionarios
  
  # Parámetros de aislamiento
  isolation_probability: 0.7    # 70% de infectados se aíslan
  infected_mobility_radius: 2   # Radio de movilidad reducida cuando infectado
  
  # Probabilidades diarias de ubicación por tipo
  student_prob_home: 0.55
  student_prob_destination: 0.35
  student_prob_park: 0.10
  
  worker_prob_home: 0.60
  worker_prob_destination: 0.35
  worker_prob_park: 0.05
  
  mobile_prob_home: 0.40
  mobile_prob_destination: 0.00
  mobile_prob_park: 0.20
  mobile_prob_random: 0.40
  
  stationary_prob_home: 0.95
  stationary_prob_destination: 0.00
  stationary_prob_park: 0.05
  stationary_prob_random: 0.00

# ============================================================================
# REPRODUCCIÓN DE MOSQUITOS (Ajustado para control poblacional)
# ============================================================================
mosquito_breeding:
  eggs_per_female: 20           # Reducido a 20 (rango 20-100, límite inferior realista)
  mating_probability: 0.6       # 60% de hembras se aparean
  female_ratio: 0.52            # 52% de mosquitos son hembras
  
  # Modelo de grados-día acumulados (GDD) - SIN CAMBIOS (biológicamente determinado)
  immature_development_threshold: 8.3   # T_base = 8.3°C (umbral térmico)
  immature_thermal_constant: 181.2      # K = 181.2 °C·día (constante térmica)
  
  # Sitios de cría (reducidos proporcionalmente)
  breeding_site_ratio: 0.2      # 20% de celdas son sitios potenciales
  
  # Ciclo gonotrófico (reproducción de hembras)
  gonotrophic_cycle_days: 5     # 5 días entre puestas (rango 3-7, valor medio-alto)
  
  # Mortalidad de huevos
  egg_mortality_rate: 0.08      # 8% mortalidad diaria (~45% supervivencia a 10 días)
  
  # Sitios de cría temporales (charcos post-lluvia)
  temp_site_rain_threshold: 10.0        # mm de lluvia para crear sitios temporales
  temp_site_duration_days: 5            # Duración de sitios temporales
  temp_site_creation_probability: 0.3   # 30% probabilidad de crear sitio con lluvia

# ============================================================================
# MOSQUITO BEHAVIOR (Sin cambios - biológicamente determinado)
# ============================================================================
mosquito_behavior:
  max_flight_range: 5           # Rango máximo de vuelo diario (celdas ~190m)
  bite_frequency: 1             # Intentos de picadura por día

# ============================================================================
# CONTROL DE VECTORES (Desactivado por defecto)
# ============================================================================
vector_control:
  lsm_enabled: false            # Larval Source Management
  lsm_coverage: 0.0
  lsm_effectiveness: 0.0
  lsm_frequency_days: 0

# ============================================================================
# CLIMA Y TEMPORALIDAD
# ============================================================================
climate_data_path: "data/raw/datos_climaticos_2022.csv"
fecha_inicio: "2022-01-01"      # Fecha de inicio de la simulación

# ============================================================================
# CAPACIDAD DE CARGA (Implementado en código)
# ============================================================================
# NOTA: El límite de 500 huevos/sitio está hardcoded en EggManager.add_eggs()
# Con 50 sitios × 500 huevos = 25,000 huevos máximo teórico
# En práctica: ~5,000-8,000 huevos en equilibrio

# ============================================================================
# JUSTIFICACIÓN DEL BALANCE
# ============================================================================
# 
# ESCALA DE POBLACIÓN (10× reducción):
# - Humanos: 3,000 → 300 (mantiene diversidad de tipos de movilidad)
# - Mosquitos: 1,500 → 150 (ratio 1:2 preservado)
# - Huevos: 3,000 → 300 (mismo ratio inicial)
#
# DENSIDAD POBLACIONAL (PRESERVADA):
# - Default: 3,000 humanos / (150×150) = 0.133 humanos/celda
# - Light: 300 humanos / (48×48) = 0.130 humanos/celda
# - Diferencia: <3% (densidad efectivamente preservada)
# → Probabilidad de encuentro mosquito-humano se mantiene
# → Dinámica de transmisión preservada
#
# SITIOS DE CRÍA (ratio preservado):
# - Default: 200 sitios / 22,500 celdas = 1 sitio por 112.5 celdas
# - Light: 12 sitios / 2,304 celdas = 1 sitio por 192 celdas
# - Ratio similar, competencia larvaria preservada
#
# PARÁMETROS DE CONTROL POBLACIONAL:
# - eggs_per_female: 20 (límite inferior realista, reduce crecimiento)
# - gonotrophic_cycle: 5 días (valor medio-alto, reduce frecuencia)
# - egg_mortality: 8% (realista para condiciones adversas)
# - adult_mortality: 10% (vida media 10 días, control activo)
# - Capacidad: 500 huevos/sitio (competencia larvaria)
#
# DINÁMICA EPIDEMIOLÓGICA:
# - Transmisión: Sin cambios (α=0.6, Pb=0.5)
# - Incubación: Sin cambios (Ne=5, Ni=6)
# - Movilidad: Sin cambios (patrones realistas)
# - Densidad: Preservada (~0.13 humanos/celda)
# → La dinámica de brotes se preserva fielmente a escala reducida
#
# RENDIMIENTO ESPERADO:
# - Población estable: ~500-800 mosquitos adultos
# - Tiempo/día: ~2-5 segundos
# - 365 días: ~30-45 minutos (vs ~7.6 horas original)
# - Speedup: ~10-15× vs configuración original
