# Configuración de la Simulación ABM-Dengue Bucaramanga
# Parámetros basados en el documento: "Parámetros de Inicialización del Modelo: Valores Propuestos y Justificación"

# Parámetros del Modelo
model:
  grid_width: 50
  grid_height: 50
  simulation_days: 180
  seed: 42

# Población
population:
  num_humans: 1000
  num_mosquitoes_adult: 2000    # mosquitos adultos iniciales
  num_mosquitoes_eggs: 500      # huevos iniciales
  initial_infected_humans: 10
  initial_infected_mosquitoes: 5
  
  # Distribución de tipos de movilidad humana (deben sumar 1.0)
  # Basado en estructura demográfica de Colombia
  mobility_distribution:
    student: 0.25        # 25% estudiantes (población escolar)
    worker: 0.35         # 35% trabajadores (empleados formales)
    mobile: 0.25         # 25% móviles (trabajadores informales, desempleados)
    stationary: 0.15     # 15% estacionarios (amas de casa, ancianos)

# Parámetros SEIR (Humanos)
human_disease:
  incubation_period: 5.0       # días (Ne - período de incubación, E→I)
  infectious_period: 6.0       # días (Ni - período infeccioso, I→R)
  recovery_rate: 0.167         # 1/infectious_period
  mortality_rate: 0.001        # tasa de mortalidad por dengue
  immunity_loss_rate: 0.0      # Prc = 0 (inmunidad permanente en este modelo)

# Parámetros SI (Mosquitos)
mosquito_disease:
  incubation_period: 10.0      # días de incubación extrínseca (no usado en modelo SI simple)
  mortality_rate: 0.05         # Mr = 0.05 por día - Vida media ~20 días (conservador, laboratorio)
  lifespan_mean: 20.0          # días (vida promedio, 1/mortality_rate)
  lifespan_std: 5.0            # desviación estándar
  sensory_range: 3             # Sr = 3 metros (rango de detección de humanos) - Calibrado epidemiológicamente
  
# Transmisión
transmission:
  mosquito_to_human_prob: 0.6   # α = 0.6 - Competencia vectorial alta de Ae. aegypti
  human_to_mosquito_prob: 0.275 # β = 0.275 - Viremia humana y susceptibilidad del mosquito
  biting_rate: 1.0              # picaduras por mosquito hembra por día
  contact_radius: 1             # radio de contacto en celdas (misma celda = 0)

# Movilidad Humana
mobility:
  move_probability: 0.3         # probabilidad de moverse diariamente
  work_probability: 0.7         # probabilidad de ir al trabajo
  
  # Probabilidades de visita a parque según tipo de agente
  # Basadas en patrones de uso de espacio público urbano
  park_probability_student: 0.3      # estudiantes van más al parque (después de clases)
  park_probability_worker: 0.1       # trabajadores tienen menos tiempo libre
  park_probability_mobile: 0.15      # móviles: probabilidad intermedia
  park_probability_stationary: 0.05  # estacionarios rara vez salen de casa
  
  # Horarios de actividad (horas del día)
  # Basados en jornadas típicas en Colombia
  school_start_hour: 7          # hora de entrada a escuela (7:00 AM)
  school_end_hour: 15           # hora de salida de escuela (3:00 PM)
  work_start_hour: 7            # hora de entrada al trabajo (7:00 AM)
  work_end_hour: 17             # hora de salida del trabajo (5:00 PM)
  park_start_hour: 16           # inicio de visitas al parque (4:00 PM - temperaturas más frescas)
  park_end_hour: 19             # fin de visitas al parque (7:00 PM)
  
  # Movilidad continua (Tipo 3 - móviles)
  mobile_move_interval_hours: 2      # cada 2 horas cambian de ubicación (trabajadores informales)
  mobile_active_start_hour: 7        # hora inicio de movilidad activa (7:00 AM)
  mobile_active_end_hour: 19         # hora fin de movilidad activa (7:00 PM)
  
  home_return_probability: 0.9  # probabilidad de regresar a casa

# Clima (valores por defecto si no hay datos desde CSV)
climate:
  use_csv: true                      # Usar datos climáticos reales desde archivo CSV
  csv_path: "data/raw/datos_climaticos_2022.csv"  # Ruta al archivo con datos de Bucaramanga 2022
  default_temperature: 24.0          # °C (valor de respaldo si falta dato en CSV)
  default_precipitation: 3.0         # mm (valor de respaldo si falta dato en CSV)
  temperature_effect_on_breeding: true  # Activar dependencia temperatura → reproducción
  rain_effect_on_breeding: true         # Activar dependencia lluvia → sitios de cría

# Entorno (Estructura Espacial)
environment:
  # Distribución de tipos de celdas
  # Basada en características urbanas de Bucaramanga
  cell_types:
    water_ratio: 0.05      # 5% celdas tipo AGUA - Cuerpos de agua permanentes (lagos, estanques)
    park_ratio: 0.10       # 10% celdas tipo PARQUE - Zonas recreativas (Bucaramanga, "Ciudad de Parques")
    urban_ratio: 0.85      # 85% celdas tipo URBANA (viviendas, oficinas, escuelas)
  
  # Tamaño de zonas (clusters contiguos)
  # Simula características geográficas realistas
  zone_sizes:
    water_min: 2           # Tamaño mínimo de cuerpo de agua (2x2 celdas) - Pequeños estanques
    water_max: 4           # Tamaño máximo de cuerpo de agua (4x4 celdas) - Lagos medianos
    park_min: 3            # Tamaño mínimo de parque (3x3 celdas) - Parques vecinales
    park_max: 6            # Tamaño máximo de parque (6x6 celdas) - Parques principales
  
  # Parámetros de vuelo de mosquitos
  mosquito_flight:
    max_range: 10          # celdas máximas de vuelo (~10 celdas = baja dispersión de Ae. aegypti)

# Comportamiento Humano
human_behavior:
  # Aislamiento de infectados
  # Basado en síntomas debilitantes del dengue (2-7 días de fase febril)
  isolation_probability: 0.7           # 70% de infectados se aíslan voluntariamente (estimado de brotes)
  infected_mobility_radius: 1          # radio de movilidad (celdas) cuando NO se aísla (prácticamente inmóvil)
  
  # Opcional: diferenciar por tipo (descomentar para usar)
  # isolation_by_type:
  #   student: 0.8       # estudiantes más propensos a aislarse
  #   worker: 0.6        # trabajadores menos (necesidad económica)
  #   mobile: 0.5        # móviles difícilmente se aíslan
  #   stationary: 0.9    # estacionarios ya están en casa

# Estrategias de Control
control_strategies:
  # Gestión de Fuentes Larvarias (LSM - Larval Source Management)
  # Eliminación/tratamiento de contenedores artificiales donde se reproducen los mosquitos
  lsm:
    enabled: false
    start_day: 30
    coverage: 0.7            # 70% de cobertura espacial (campañas masivas en barrios)
    effectiveness: 0.8       # 80% de reducción de criaderos tratados/eliminados
    frequency_days: 7        # cada 7 días (inspección y tratamiento semanal)
  
  # Mosquiteros tratados con Insecticida / Rociado Residual (ITN/IRS)
  # Protección de viviendas contra picaduras de mosquitos
  itn_irs:
    enabled: false
    start_day: 30
    coverage: 0.6            # 60% de hogares con intervención (factibilidad logística)
    bite_reduction: 0.7      # 70% de reducción en probabilidad de picadura
    duration_days: 90        # duración del efecto residual (~3 meses)

# Reproducción de Mosquitos
mosquito_breeding:
  eggs_per_female: 100          # ~100-150 huevos por puesta (estudios de laboratorio)
  mating_probability: 0.6       # Pm = 0.6 - Alto éxito de apareamiento en colonias establecidas
  female_ratio: 0.5             # Pf = 0.5 - Ratio sexual 1:1 típico en Ae. aegypti
  
  # Desarrollo dependiente de temperatura (fórmulas del paper)
  # Maduración del huevo: τ = 3 + |θ - 21| / 5
  # Eclosión en ~2-3 días a temperaturas favorables (25-30°C)
  egg_maturation_base_days: 3
  egg_maturation_temp_optimal: 21.0
  egg_maturation_temp_sensitivity: 5.0
  
  # Desarrollo huevo-adulto: μ = 8 + |θ - 25|
  # Desarrollo larval completo en ~8 días a 25°C (temperatura óptima)
  egg_to_adult_base_days: 8
  egg_to_adult_temp_optimal: 25.0
  egg_to_adult_temp_sensitivity: 1.0
  
  # Límites de temperatura para supervivencia y desarrollo
  # Basados en biología de Ae. aegypti
  temperature_min: 15.0         # °C mínima para desarrollo (por debajo, letargo larvario)
  temperature_opt: 28.0         # °C óptima para desarrollo y reproducción
  temperature_max: 35.0         # °C máxima (por encima, mortalidad larvaria)
  
  # Precipitación y sitios de cría
  # 0.0 mm: en entornos urbanos, sitios artificiales no dependen de lluvia
  rainfall_threshold: 0.0       # mm mínimos para activar criaderos (0 = siempre disponibles)
  breeding_site_ratio: 0.2      # 20% de celdas contienen sitios de cría potenciales

# Recolección de Datos
data_collection:
  collect_every_step: true
  metrics:
    - susceptible_humans
    - exposed_humans
    - infected_humans
    - recovered_humans
    - susceptible_mosquitoes
    - infected_mosquitoes
    - total_mosquitoes
    - daily_temperature
    - daily_precipitation
    - new_infections_humans
    - new_infections_mosquitoes

# Visualización
visualization:
  enable_live_view: false
  save_plots: true
  plot_interval: 10  # guardar cada 10 pasos
  
# Salida
output:
  results_dir: "results"
  plots_dir: "results/plots"
  save_format: "csv"
  experiment_name: "baseline"
